{% extends "cms/main_template.html" %}
{% load cms_tags compress %}

{% block stylesheets %}
    {{ block.super }}
{% endblock %}

{% block media %}
    {{ block.super }}
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

    {% compress js %}
    <script src="{{ MEDIA_URL }}OpenLayers/OpenLayers.js" type="text/javascript"></script>
    {% endcompress %}

    {% compress js %}
    <script src="{{ MEDIA_URL }}jquery-util.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}cloudmade.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}map.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}jquery.smartresize.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}map-buttons.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}geocode.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}search.js" type="text/javascript"></script>
    {% endcompress %}
{% endblock %}

{% block scripts %}
    {% compress js %}
    <script src="{{ MEDIA_URL }}map_template.js" type="text/javascript"></script>
    {% endcompress %}
{% endblock %}

{% block sidebar %}
{% endblock %}

{% block content %}
<div id="content">
    <div id="map_page">
        <div id="map_container">

            <div class="filters top">
                <ul>
                    <li id="area" style="margin-bottom: 5px;">
                        <span class="label">
                            Lot size: <span class="range min"></span> to <span class="range max"></span> acres
                        </span>
                        <div id="area_slider"></div>
                    </li>
                </ul>
            </div>

            <div style="text-align: center; font-weight: bold;">Streetview is below the map when a lot is selected.</div>
            <div id="map_inner">
                <div id="map_buttons">
                    <div id="political_borders" class="map_button dropdownable">
                        <span class="label">Political Borders</span>
                        <div id="political_borders_selector" class="dropdown">
                            <ul>
                                <li id="labels" style="border-bottom: 1px solid gray; margin-bottom: 5px;"><input type="checkbox" id="labels_checkbox" /><label for="labels_checkbox">labels</label></li>
                                <li id="none"><input type="radio" id="none_radio" name="political_borders" checked="checked" /><label for="none_radio">none</label></li>
                                <li id="boroughs"><input type="radio" id="boroughs_radio" name="political_borders" /><label for="boroughs_radio">Boroughs</label></li>
                                <li id="city_councils"><input type="radio" id="city_councils_radio" name="political_borders" /><label for="city_councils_radio">City Council Districts</label></li>
                                <li id="community_districts"><input type="radio" id="community_districts_radio" name="political_borders" /><label for="community_districts_radio">Community Districts</label></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="map"></div>
            </div>
            <div id="streetview" class="streetview"></div>
            <div id="streetview-error" class="streetview">Sorry, we couldn't find streetview imagery for this lot.</div>

            <div id="searchbar">
                <div class="warning errorlist" style="display: none;"></div>
                <span>Search for lots near an address:</span>
                <form>
                    <input name="address" type="text" /><input type="submit" value="search" />
                </form>
                <img class="loading" src="{{ MEDIA_URL }}img/loading_small.gif" alt="loading..." />
                <input name="current_location" type="submit" value="use my current location" />
            </div>

            <div class="filters bottom">
                <ul>
                    <li class="agency">
                        <span class="label">Agency:</span>
                        <select disabled="disabled">
                            <option value="all">all</option>
                        </select>
                    </li>
                    <li class="lot-type">
                        <span class="label">Lot type:</span>
                        <select>
                            <option value="vacant">vacant lots</option>
                            <option value="garden">community gardens</option>
                            <option value="vacant,garden">vacant lots and community gardens</option>
                        </select>
                    </li>
                </ul>
            </div>

            <div class="download">
                Download current lots as <a href="" class="kml">KML</a> or <a href="" class="geojson">GeoJSON</a>
            </div>

            <div class="social">
                <div>
                    <iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2F596acres.org&amp;layout=button_count&amp;show_faces=false&amp;width=50&amp;action=like&amp;height=25" 
                        scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:50px; height:25px; padding-top: 5px;" allowTransparency="true">
                    </iframe>
                </div>
                <div>
                    <a href="http://twitter.com/share" class="twitter-share-button" data-text="596 Acres" data-count="horizontal">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
                </div>
            </div>
        </div>

        <div id="side">
        {% placeholder "main" %}
        </div>
        <div style="clear: both;"></div>
    </div>

    <div class="popup_loading" style="display: none;"></div>
</div>
{% endblock %}

